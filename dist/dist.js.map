{"version":3,"sources":["dist.js"],"names":["f","exports","module","define","amd","window","global","self","this","standalone","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Object","defineProperty","value","map","filter","from","undefined","_inference","_utils","collection","index","values","Array","isArray","entries","next","eof","pr","inferArray","arg","tr","../inference","../utils","2","chunk","state","buffer","get","name","push","set","../inference.js","../utils.js","3","dropWhile","drop","has","console","log","predicate","aborted","dropIt","4","takeWhile","take","5","lazy","_base","_take","_drop","_chunk","_len","arguments","funcs","_key","data","evaluationState","flow","concat","Map","flowLenght","operationPointer","valueBuffer","item","operation","isNext","fmap","isArg","isEof","clear","EOF","__infer__","./funcs/base","./funcs/chunk","./funcs/drop","./funcs/take","./utils","6","inferAny","inferObject","_slicedToArray","arr","Symbol","iterator","_arr","_n","_d","_e","_s","_i","done","err","sliceIterator","TypeError","INFERENCE","lz","shape","_lz3","_lz4","assign","isNotEof","infer","type","fn","freeze","result","_lz","_lz2","7","_extends","target","source","key","prototype","hasOwnProperty","ARG","NEXT","prop"],"mappings":"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","file":"dist.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.standalone = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.map = exports.filter = exports.from = undefined;\n\nvar _inference = require('../inference');\n\nvar _utils = require('../utils');\n\nvar filter = function filter(pr) {\n  return (0, _inference.inferArray)(function (value) {\n    return pr(value) === true ? (0, _utils.next)(value) : (0, _utils.arg)();\n  });\n};\nvar map = function map(tr) {\n  return (0, _inference.inferArray)(function (value) {\n    return (0, _utils.next)(tr(value));\n  });\n};\n\nvar from = function from(collection) {\n  var index = 0;\n\n  var values = Array.isArray(collection) ? collection : Object.entries(collection);\n\n  return function () {\n    if (index < values.length) {\n      return (0, _utils.next)(values[index++]);\n    }\n\n    return (0, _utils.eof)();\n  };\n};\n\nexports.from = from;\nexports.filter = filter;\nexports.map = map;\n\n},{\"../inference\":6,\"../utils\":7}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.chunk = undefined;\n\nvar _inference = require('../inference.js');\n\nvar _utils = require('../utils.js');\n\nvar chunk = function chunk(n) {\n  return (0, _inference.inferArray)(function (value, state) {\n    var buffer = state.get(chunk.name) || [];\n\n    buffer.push(value);\n\n    if (buffer.length < n) {\n      state.set(chunk.name, buffer);\n      return (0, _utils.arg)();\n    }\n\n    state.set(chunk.name, []);\n    return (0, _utils.next)(buffer);\n  });\n};\n\nexports.chunk = chunk;\n\n},{\"../inference.js\":6,\"../utils.js\":7}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dropWhile = exports.drop = undefined;\n\nvar _inference = require('../inference');\n\nvar _utils = require('../utils');\n\nvar drop = function drop(n) {\n  return (0, _inference.inferArray)(function (value, state) {\n    var index = state.has(drop.name) ? state.get(drop.name) : 0;\n    console.log(drop.name, index);\n\n    if (index < n) {\n      state.set(drop.name, index + 1);\n      return (0, _utils.arg)();\n    }\n\n    return (0, _utils.next)(value);\n  });\n};\n\nvar dropWhile = function dropWhile(predicate) {\n  return (0, _inference.inferArray)(function (value, state) {\n    var aborted = state.get(dropWhile.name);\n    var dropIt = predicate(value) === true;\n\n    if (dropIt && !aborted) {\n      return (0, _utils.arg)();\n    } else if (!(dropIt || aborted)) {\n      state.set(dropWhile.name, true);\n    }\n\n    return (0, _utils.next)(value);\n  });\n};\n\nexports.drop = drop;\nexports.dropWhile = dropWhile;\n\n},{\"../inference\":6,\"../utils\":7}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.takeWhile = exports.take = undefined;\n\nvar _inference = require('../inference');\n\nvar _utils = require('../utils');\n\nvar take = function take(n) {\n  return (0, _inference.inferArray)(function (value, state) {\n    var index = state.has(take.name) ? state.get(take.name) : 0;\n\n    if (index < n) {\n      state.set(take.name, index + 1);\n      return (0, _utils.next)(value);\n    }\n\n    return (0, _utils.eof)();\n  });\n};\n\nvar takeWhile = function takeWhile(predicate) {\n  return (0, _inference.inferArray)(function (value) {\n    return predicate(value) === true ? (0, _utils.next)(value) : (0, _utils.eof)();\n  });\n};\n\nexports.take = take;\nexports.takeWhile = takeWhile;\n\n},{\"../inference\":6,\"../utils\":7}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.chunk = exports.dropWhile = exports.drop = exports.takeWhile = exports.take = exports.filter = exports.map = exports.lazy = undefined;\n\nvar _utils = require('./utils');\n\nvar _base = require('./funcs/base');\n\nvar _take = require('./funcs/take');\n\nvar _drop = require('./funcs/drop');\n\nvar _chunk = require('./funcs/chunk');\n\nvar createFlow = function createFlow(funcs) {\n  var evaluationState = new Map();\n\n  return function () {\n    var flowLenght = funcs.length;\n\n    var operationPointer = 0;\n    var valueBuffer = void 0;\n\n    do {\n      var operation = funcs[operationPointer];\n      var item = operation(valueBuffer, evaluationState);\n\n      if ((0, _utils.isNext)(item)) {\n        valueBuffer = (0, _utils.fmap)(item);\n        operationPointer += 1;\n      } else if ((0, _utils.isArg)(item)) {\n        operationPointer = 0;\n      } else if ((0, _utils.isEof)(item)) {\n        evaluationState.clear();\n        return [valueBuffer, _utils.EOF];\n      }\n    } while (operationPointer < flowLenght);\n\n    return [valueBuffer];\n  };\n};\n\nvar lazy = function lazy() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return function (data) {\n    var flow = createFlow([(0, _base.from)(data)].concat(funcs));\n    var last = funcs[funcs.length - 1];\n    var __infer__ = last.__infer__;\n\n    return __infer__(flow);\n  };\n};\n\nexports.lazy = lazy;\nexports.map = _base.map;\nexports.filter = _base.filter;\nexports.take = _take.take;\nexports.takeWhile = _take.takeWhile;\nexports.drop = _drop.drop;\nexports.dropWhile = _drop.dropWhile;\nexports.chunk = _chunk.chunk;\n\n},{\"./funcs/base\":1,\"./funcs/chunk\":2,\"./funcs/drop\":3,\"./funcs/take\":4,\"./utils\":7}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.inferAny = exports.inferObject = exports.inferArray = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _utils = require('./utils');\n\nvar INFERENCE = {\n  ARRAY: function ARRAY(lz) {\n    var result = [];\n\n    var value = void 0;\n    var state = void 0;\n\n    do {\n      var _lz = lz();\n\n      var _lz2 = _slicedToArray(_lz, 2);\n\n      value = _lz2[0];\n      state = _lz2[1];\n\n\n      if ((0, _utils.isEof)(state)) {\n        break;\n      }\n\n      result.push(value);\n    } while ((0, _utils.isNotEof)(state));\n\n    return result;\n  },\n  OBJECT: function OBJECT(lz) {\n    var shape = {};\n\n    var value = null;\n    var state = void 0;\n\n    do {\n      var _lz3 = lz();\n\n      var _lz4 = _slicedToArray(_lz3, 2);\n\n      value = _lz4[0];\n      state = _lz4[1];\n\n\n      if ((0, _utils.isEof)(state)) break;\n\n      Object.assign(shape, value);\n    } while ((0, _utils.isNotEof)(state));\n\n    return shape;\n  },\n  ANY: function ANY() {\n    throw new Error('Any inference is not supported');\n  }\n};\n\nvar infer = function infer(type) {\n  return function (fn) {\n    fn.__infer__ = type;\n    return Object.freeze(fn);\n  };\n};\n\nvar inferArray = infer(INFERENCE.ARRAY);\nvar inferObject = infer(INFERENCE.OBJECT);\nvar inferAny = infer(INFERENCE.ANY);\n\nexports.inferArray = inferArray;\nexports.inferObject = inferObject;\nexports.inferAny = inferAny;\n\n},{\"./utils\":7}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar ARG = Object.freeze({ state: 'arg ' });\nvar EOF = Object.freeze({ state: 'eof ' });\nvar NEXT = Object.freeze({ state: 'next ' });\n\nvar next = function next(value) {\n  return _extends({}, NEXT, { value: value });\n};\nvar arg = function arg() {\n  return ARG;\n};\nvar eof = function eof() {\n  return EOF;\n};\n\nvar isArg = function isArg(value) {\n  return ARG === value;\n};\nvar isEof = function isEof(value) {\n  return EOF === value;\n};\nvar isNotEof = function isNotEof(value) {\n  return EOF !== value;\n};\nvar isNext = function isNext(value) {\n  return NEXT.state === value.state;\n};\n\nvar fmap = function fmap(item) {\n  var prop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'value';\n  return isNext(item) ? item[prop] : undefined;\n};\n\nexports.EOF = EOF;\nexports.fmap = fmap;\nexports.next = next;\nexports.arg = arg;\nexports.eof = eof;\nexports.isArg = isArg;\nexports.isEof = isEof;\nexports.isNotEof = isNotEof;\nexports.isNext = isNext;\n\n},{}]},{},[5])(5)\n});\n"]}