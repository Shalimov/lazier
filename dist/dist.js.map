{"version":3,"sources":["dist.js"],"names":["f","exports","module","define","amd","window","global","self","this","standalone","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Object","defineProperty","value","chunk","undefined","_helpers","_inference","arg","inferArray","result","isEof","push","isNotEof","../helpers","../inference","2","dropWhile","drop","count","dropIndex","predicate","dropFinished","stopDropping","3","filter","4","fromPairs","from","collection","index","values","Array","isArray","entries","eof","inferObject","obj","key","pair","enumerable","configurable","writable","5","flatMapDeep","flatMap","map","_from","transform","stack","source","pop","transformedValue","newSource","./from","6","reduce","reducer","firstValue","firstValUndefined","inferAny","7","takeWhile","take","itemsTaken","8","uniqBy","uniq","set","Set","has","add","propFn","propValue","9","freeze","10","lazy","_lazy","_map","_filter","_chunk","_reduce","_take","_drop","_uniq","./funcs/chunk","./funcs/drop","./funcs/filter","./funcs/from","./funcs/map","./funcs/reduce","./funcs/take","./funcs/uniq","./lazy","11","applyInference","INFERENCE","lz","shape","assign","bufferValue","infer","type","fn","__infer__","func","./helpers","12","_len","arguments","funcs","_key","v","concat","./inference"],"mappings":"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","file":"dist.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.standalone = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.chunk = undefined;\n\nvar _helpers = require('../helpers');\n\nvar _inference = require('../inference');\n\nvar chunk = exports.chunk = function chunk(n) {\n  return function (arg) {\n    return (0, _inference.inferArray)(function () {\n      var result = [];\n      var value = null;\n\n      do {\n        value = arg();\n        if ((0, _helpers.isEof)(value)) break;\n        result.push(value);\n      } while ((0, _helpers.isNotEof)(value) && n > result.length);\n\n      return result.length > 0 ? result : value;\n    });\n  };\n};\n\n},{\"../helpers\":9,\"../inference\":11}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dropWhile = exports.drop = undefined;\n\nvar _helpers = require('../helpers');\n\nvar _inference = require('../inference');\n\nvar drop = exports.drop = function drop(count) {\n  return function (arg) {\n    var dropIndex = 0;\n\n    return (0, _inference.inferArray)(function () {\n      while (dropIndex++ < count) {\n        arg();\n      }\n      var value = arg();\n      return value;\n    });\n  };\n};\n\nvar dropWhile = exports.dropWhile = function dropWhile(predicate) {\n  return function (arg) {\n    var dropFinished = false;\n\n    return (0, _inference.inferArray)(function () {\n      if (dropFinished) {\n        return arg();\n      }\n\n      var value = null;\n\n      do {\n        value = arg();\n\n        var stopDropping = (0, _helpers.isEof)(value) || predicate(value) === false;\n\n        if (stopDropping) {\n          dropFinished = stopDropping;\n          break;\n        }\n      } while ((0, _helpers.isNotEof)(value));\n\n      return value;\n    });\n  };\n};\n\n},{\"../helpers\":9,\"../inference\":11}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filter = undefined;\n\nvar _helpers = require('../helpers');\n\nvar _inference = require('../inference');\n\nvar filter = exports.filter = function filter(predicate) {\n  return function (arg) {\n    return (0, _inference.inferArray)(function () {\n      var value = null;\n\n      do {\n        value = arg();\n\n        if ((0, _helpers.isNotEof)(value) && predicate(value) === true) {\n          return value;\n        }\n      } while ((0, _helpers.isNotEof)(value));\n\n      return value;\n    });\n  };\n};\n\n},{\"../helpers\":9,\"../inference\":11}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fromPairs = exports.from = undefined;\n\nvar _helpers = require('../helpers');\n\nvar _inference = require('../inference');\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar from = function from(collection) {\n  var index = 0;\n\n  var values = Array.isArray(collection) ? collection : Object.entries(collection);\n\n  return function () {\n    if (index < values.length) {\n      return values[index++];\n    }\n\n    return _helpers.eof;\n  };\n};\n\nvar fromPairs = function fromPairs(arg) {\n  return (0, _inference.inferObject)(function () {\n    var pair = arg();\n    return (0, _helpers.isNotEof)(pair) ? _defineProperty({}, pair[0], pair[1]) : pair;\n  });\n};\n\nexports.from = from;\nexports.fromPairs = fromPairs;\n\n},{\"../helpers\":9,\"../inference\":11}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.flatMapDeep = exports.flatMap = exports.map = undefined;\n\nvar _from = require('./from');\n\nvar _helpers = require('../helpers');\n\nvar _inference = require('../inference');\n\nvar map = exports.map = function map(transform) {\n  return function (arg) {\n    return (0, _inference.inferArray)(function () {\n      var value = arg();\n      return (0, _helpers.isNotEof)(value) ? transform(value) : value;\n    });\n  };\n};\n\nvar flatMap = exports.flatMap = function flatMap(transform) {\n  return function (arg) {\n    var stack = [arg];\n    var isOverDeepMaximum = function isOverDeepMaximum(stack) {\n      return stack.length > 1;\n    };\n    var peek = function peek(stack) {\n      return stack[stack.length - 1];\n    };\n\n    return (0, _inference.inferArray)(function () {\n      var value = null;\n\n      do {\n        var source = peek(stack);\n        value = source();\n\n        if ((0, _helpers.isEof)(value)) {\n          stack.pop();\n          continue;\n        }\n\n        if (isOverDeepMaximum(stack)) {\n          return value;\n        }\n\n        var transformedValue = transform(value);\n\n        if (Array.isArray(transformedValue)) {\n          var newSource = (0, _from.from)(transformedValue);\n          stack.push(newSource);\n          continue;\n        }\n\n        return transformedValue;\n      } while (stack.length > 0);\n\n      return value;\n    });\n  };\n};\n\nvar flatMapDeep = exports.flatMapDeep = function flatMapDeep(transform) {\n  return function (arg) {\n    var stack = [arg];\n    var isOverDeepMaximum = function isOverDeepMaximum(stack) {\n      return stack.length > 1;\n    };\n    var peek = function peek(stack) {\n      return stack[stack.length - 1];\n    };\n\n    return (0, _inference.inferArray)(function () {\n      var value = null;\n\n      do {\n        var source = peek(stack);\n        value = source();\n\n        if ((0, _helpers.isEof)(value)) {\n          stack.pop();\n          continue;\n        }\n\n        value = isOverDeepMaximum(stack) ? value : transform(value);\n\n        if (Array.isArray(value)) {\n          var newSource = (0, _from.from)(value);\n          stack.push(newSource);\n          continue;\n        }\n\n        return value;\n      } while (stack.length > 0);\n\n      return value;\n    });\n  };\n};\n\n},{\"../helpers\":9,\"../inference\":11,\"./from\":4}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reduce = undefined;\n\nvar _helpers = require('../helpers');\n\nvar _inference = require('../inference');\n\nvar reduce = exports.reduce = function reduce(reducer, firstValue) {\n  return function (arg) {\n    var firstValUndefined = firstValue === undefined;\n    var result = firstValue;\n\n    return (0, _inference.inferAny)(function () {\n      result = firstValUndefined ? arg() : result;\n      firstValUndefined = false;\n\n      var value = arg();\n\n      if ((0, _helpers.isEof)(value)) return value;\n\n      result = reducer(result, value);\n\n      return result;\n    });\n  };\n};\n\n},{\"../helpers\":9,\"../inference\":11}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.takeWhile = exports.take = undefined;\n\nvar _helpers = require('../helpers');\n\nvar _inference = require('../inference');\n\nvar take = exports.take = function take(count) {\n  return function (arg) {\n    var itemsTaken = 0;\n\n    return (0, _inference.inferArray)(function () {\n      var value = arg();\n      itemsTaken += 1;\n      return itemsTaken <= count ? value : _helpers.eof;\n    });\n  };\n};\n\nvar takeWhile = exports.takeWhile = function takeWhile(predicate) {\n  return function (arg) {\n    return (0, _inference.inferArray)(function () {\n      var value = arg();\n\n      if ((0, _helpers.isEof)(value) || predicate(value) === false) {\n        return _helpers.eof;\n      }\n\n      return value;\n    });\n  };\n};\n\n},{\"../helpers\":9,\"../inference\":11}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uniqBy = exports.uniq = undefined;\n\nvar _helpers = require('../helpers');\n\nvar _inference = require('../inference');\n\nvar uniq = exports.uniq = function uniq(arg) {\n  var set = new Set();\n\n  return (0, _inference.inferArray)(function () {\n    var value = null;\n\n    do {\n      value = arg();\n\n      if ((0, _helpers.isEof)(value)) {\n        return value;\n      }\n    } while (set.has(value));\n\n    set.add(value);\n\n    return value;\n  });\n};\n\nvar uniqBy = exports.uniqBy = function uniqBy(propFn) {\n  return function (arg) {\n    var set = new Set();\n\n    return (0, _inference.inferArray)(function () {\n      var value = null;\n      var propValue = null;\n\n      do {\n        value = arg();\n\n        if ((0, _helpers.isEof)(value)) {\n          return value;\n        }\n\n        propValue = propFn(value);\n      } while (set.has(propValue));\n\n      set.add(propValue);\n\n      return value;\n    });\n  };\n};\n\n},{\"../helpers\":9,\"../inference\":11}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar eof = exports.eof = Object.freeze(function () {});\nvar isEof = exports.isEof = function isEof(value) {\n  return value === eof;\n};\nvar isNotEof = exports.isNotEof = function isNotEof(value) {\n  return value !== eof;\n};\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fromPairs = exports.chunk = exports.uniqBy = exports.uniq = exports.dropWhile = exports.drop = exports.takeWhile = exports.take = exports.reduce = exports.filter = exports.flatMapDeep = exports.flatMap = exports.map = exports.lazy = undefined;\n\nvar _lazy = require('./lazy');\n\nvar _map = require('./funcs/map');\n\nvar _filter = require('./funcs/filter');\n\nvar _from = require('./funcs/from');\n\nvar _chunk = require('./funcs/chunk');\n\nvar _reduce = require('./funcs/reduce');\n\nvar _take = require('./funcs/take');\n\nvar _drop = require('./funcs/drop');\n\nvar _uniq = require('./funcs/uniq');\n\nexports.lazy = _lazy.lazy;\nexports.map = _map.map;\nexports.flatMap = _map.flatMap;\nexports.flatMapDeep = _map.flatMapDeep;\nexports.filter = _filter.filter;\nexports.reduce = _reduce.reduce;\nexports.take = _take.take;\nexports.takeWhile = _take.takeWhile;\nexports.drop = _drop.drop;\nexports.dropWhile = _drop.dropWhile;\nexports.uniq = _uniq.uniq;\nexports.uniqBy = _uniq.uniqBy;\nexports.chunk = _chunk.chunk;\nexports.fromPairs = _from.fromPairs;\n\n},{\"./funcs/chunk\":1,\"./funcs/drop\":2,\"./funcs/filter\":3,\"./funcs/from\":4,\"./funcs/map\":5,\"./funcs/reduce\":6,\"./funcs/take\":7,\"./funcs/uniq\":8,\"./lazy\":12}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.applyInference = exports.inferAny = exports.inferObject = exports.inferArray = undefined;\n\nvar _helpers = require('./helpers');\n\nvar INFERENCE = {\n  ARRAY: function ARRAY(lz) {\n    var result = [];\n    var value = null;\n\n    do {\n      value = lz();\n\n      if ((0, _helpers.isEof)(value)) break;\n\n      result.push(value);\n    } while ((0, _helpers.isNotEof)(value));\n\n    return result;\n  },\n  OBJECT: function OBJECT(lz) {\n    var shape = {};\n    var value = null;\n\n    do {\n      value = lz();\n\n      if ((0, _helpers.isEof)(value)) break;\n\n      Object.assign(shape, value);\n    } while ((0, _helpers.isNotEof)(value));\n\n    return shape;\n  },\n  ANY: function ANY(lz) {\n    var value = null;\n\n    do {\n      var bufferValue = lz();\n      if ((0, _helpers.isEof)(bufferValue)) break;\n      value = bufferValue;\n    } while ((0, _helpers.isNotEof)(value));\n\n    return value;\n  }\n};\n\nvar infer = function infer(type) {\n  return function (fn) {\n    fn.__infer__ = type;\n    return Object.freeze(fn);\n  };\n};\n\nvar inferArray = exports.inferArray = infer(INFERENCE.ARRAY);\nvar inferObject = exports.inferObject = infer(INFERENCE.OBJECT);\nvar inferAny = exports.inferAny = infer(INFERENCE.ANY);\nvar applyInference = exports.applyInference = function applyInference(func) {\n  return func.__infer__(func);\n};\n\n},{\"./helpers\":9}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lazy = undefined;\n\nvar _from = require('./funcs/from');\n\nvar _inference = require('./inference');\n\nvar lazy = function lazy() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (v) {\n      return v;\n    };\n  }\n\n  return function (collection) {\n    var source = (0, _from.from)(collection);\n    var func = [source].concat(funcs).reduce(function (arg, fn) {\n      return fn(arg);\n    });\n    return (0, _inference.applyInference)(func);\n  };\n};\n\nexports.lazy = lazy;\n\n},{\"./funcs/from\":4,\"./inference\":11}]},{},[10])(10)\n});\n"]}