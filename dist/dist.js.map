{"version":3,"sources":["dist.js"],"names":["f","exports","module","define","amd","window","global","self","this","standalone","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","Object","defineProperty","value","map","filter","from","undefined","_inference","_utils","collection","index","values","Array","isArray","entries","next","eof","pr","inferArray","arg","tr","../inference","../utils","2","takeWhile","take","internalCounter","predicate","3","lazy","_base","_take","_len","arguments","funcs","_key","data","flow","concat","flowLenght","operationPointer","valueBuffer","item","operation","isNext","fmap","isArg","isEof","EOF","__infer__","./funcs/base","./funcs/take","./utils","4","inferAny","inferObject","_slicedToArray","arr","Symbol","iterator","_arr","_n","_d","_e","_s","_i","done","push","err","sliceIterator","TypeError","INFERENCE","lz","shape","state","_lz3","_lz4","assign","isNotEof","infer","type","fn","freeze","result","_lz","_lz2","5","_extends","target","source","key","prototype","hasOwnProperty","ARG","NEXT","prop"],"mappings":"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","file":"dist.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.standalone = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.map = exports.filter = exports.from = undefined;\n\nvar _inference = require('../inference');\n\nvar _utils = require('../utils');\n\nvar filter = function filter(pr) {\n  return (0, _inference.inferArray)(function (value) {\n    return pr(value) === true ? (0, _utils.next)(value) : (0, _utils.arg)();\n  });\n};\nvar map = function map(tr) {\n  return (0, _inference.inferArray)(function (value) {\n    return (0, _utils.next)(tr(value));\n  });\n};\n\nvar from = function from(collection) {\n  var index = 0;\n\n  var values = Array.isArray(collection) ? collection : Object.entries(collection);\n\n  return function () {\n    if (index < values.length) {\n      return (0, _utils.next)(values[index++]);\n    }\n\n    return (0, _utils.eof)();\n  };\n};\n\nexports.from = from;\nexports.filter = filter;\nexports.map = map;\n\n},{\"../inference\":4,\"../utils\":5}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.takeWhile = exports.take = undefined;\n\nvar _inference = require('../inference');\n\nvar _utils = require('../utils');\n\nvar take = function take(n) {\n  var internalCounter = 0;\n  return (0, _inference.inferArray)(function (value) {\n    if (internalCounter < n) {\n      internalCounter++;\n      return (0, _utils.next)(value);\n    }\n\n    internalCounter = 0;\n    return (0, _utils.eof)();\n  });\n};\n\nvar takeWhile = function takeWhile(predicate) {\n  return (0, _inference.inferArray)(function (value) {\n    return predicate(value) === true ? (0, _utils.next)(value) : (0, _utils.eof)();\n  });\n};\n\nexports.take = take;\nexports.takeWhile = takeWhile;\n\n},{\"../inference\":4,\"../utils\":5}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.takeWhile = exports.take = exports.filter = exports.map = exports.lazy = undefined;\n\nvar _utils = require('./utils');\n\nvar _base = require('./funcs/base');\n\nvar _take = require('./funcs/take');\n\nvar createFlow = function createFlow(funcs) {\n  return function () {\n    var flowLenght = funcs.length;\n\n    var operationPointer = 0;\n    var valueBuffer = void 0;\n\n    do {\n      var operation = funcs[operationPointer];\n      var item = operation(valueBuffer);\n\n      if ((0, _utils.isNext)(item)) {\n        valueBuffer = (0, _utils.fmap)(item);\n        operationPointer += 1;\n      } else if ((0, _utils.isArg)(item)) {\n        operationPointer -= 1;\n      } else if ((0, _utils.isEof)(item)) {\n        return [valueBuffer, _utils.EOF];\n      }\n    } while (operationPointer < flowLenght);\n\n    return [valueBuffer];\n  };\n};\n\nvar lazy = function lazy() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return function (data) {\n    var flow = createFlow([(0, _base.from)(data)].concat(funcs));\n    var last = funcs[funcs.length - 1];\n    var __infer__ = last.__infer__;\n\n    return __infer__(flow);\n  };\n};\n\nexports.lazy = lazy;\nexports.map = _base.map;\nexports.filter = _base.filter;\nexports.take = _take.take;\nexports.takeWhile = _take.takeWhile;\n\n},{\"./funcs/base\":1,\"./funcs/take\":2,\"./utils\":5}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.inferAny = exports.inferObject = exports.inferArray = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _utils = require('./utils');\n\nvar INFERENCE = {\n  ARRAY: function ARRAY(lz) {\n    var result = [];\n\n    var value = void 0;\n    var state = void 0;\n\n    do {\n      var _lz = lz();\n\n      var _lz2 = _slicedToArray(_lz, 2);\n\n      value = _lz2[0];\n      state = _lz2[1];\n\n\n      if ((0, _utils.isEof)(state)) {\n        break;\n      }\n\n      result.push(value);\n    } while ((0, _utils.isNotEof)(state));\n\n    return result;\n  },\n  OBJECT: function OBJECT(lz) {\n    var shape = {};\n\n    var value = null;\n    var state = void 0;\n\n    do {\n      var _lz3 = lz();\n\n      var _lz4 = _slicedToArray(_lz3, 2);\n\n      value = _lz4[0];\n      state = _lz4[1];\n\n\n      if ((0, _utils.isEof)(state)) break;\n\n      Object.assign(shape, value);\n    } while ((0, _utils.isNotEof)(state));\n\n    return shape;\n  },\n  ANY: function ANY() {\n    throw new Error('Any inference is not supported');\n  }\n};\n\nvar infer = function infer(type) {\n  return function (fn) {\n    fn.__infer__ = type;\n    return Object.freeze(fn);\n  };\n};\n\nvar inferArray = infer(INFERENCE.ARRAY);\nvar inferObject = infer(INFERENCE.OBJECT);\nvar inferAny = infer(INFERENCE.ANY);\n\nexports.inferArray = inferArray;\nexports.inferObject = inferObject;\nexports.inferAny = inferAny;\n\n},{\"./utils\":5}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar ARG = Object.freeze({ state: 'arg ' });\nvar EOF = Object.freeze({ state: 'eof ' });\nvar NEXT = Object.freeze({ state: 'next ' });\n\nvar next = function next(value) {\n  return _extends({}, NEXT, { value: value });\n};\nvar arg = function arg() {\n  return ARG;\n};\nvar eof = function eof() {\n  return EOF;\n};\n\nvar isArg = function isArg(value) {\n  return ARG === value;\n};\nvar isEof = function isEof(value) {\n  return EOF === value;\n};\nvar isNotEof = function isNotEof(value) {\n  return EOF !== value;\n};\nvar isNext = function isNext(value) {\n  return NEXT.state === value.state;\n};\n\nvar fmap = function fmap(item) {\n  var prop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'value';\n  return isNext(item) ? item[prop] : undefined;\n};\n\nexports.EOF = EOF;\nexports.fmap = fmap;\nexports.next = next;\nexports.arg = arg;\nexports.eof = eof;\nexports.isArg = isArg;\nexports.isEof = isEof;\nexports.isNotEof = isNotEof;\nexports.isNext = isNext;\n\n},{}]},{},[3])(3)\n});\n"]}